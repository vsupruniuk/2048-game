(this["webpackJsonp2048-game"]=this["webpackJsonp2048-game"]||[]).push([[0],[,,,,,,,,,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var r=t(7),c=t.n(r),i=t(2),a=(t(13),t(1)),f=t.n(a),o=t(3),u=(t(14),t(15),t(8)),s=t.n(u),l=t(0),b=f.a.memo((function(e){var n=e.cell;return Object(l.jsx)("div",{className:s()("cell",{"cell--2":2===n},{"cell--4":4===n},{"cell--8":8===n},{"cell--16":16===n},{"cell--32":32===n},{"cell--64":64===n},{"cell--128":128===n},{"cell--256":256===n},{"cell--512":512===n},{"cell--1024":1024===n},{"cell--2048":2048===n}),children:n||""})})),v=function(e){var n=e.gameDataRow;return Object(l.jsx)("div",{className:"game-row",children:n.map((function(e,n){return Object(l.jsx)(b,{cell:e},n)}))})},j=(t(17),function(){return Math.floor(4*Math.random())}),m=function(){return 10===Math.ceil(10*Math.random())?4:2},h=function(){return Math.random()},O=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],d=f.a.memo((function(){var e=Object(a.useState)(O),n=Object(i.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),f=Object(i.a)(c,2),u=f[0],s=f[1],b=Object(a.useState)(!1),d=Object(i.a)(b,2),g=d[0],x=d[1],k=Object(a.useState)(!1),w=Object(i.a)(k,2),_=w[0],p=w[1],N=Object(a.useState)(0),y=Object(i.a)(N,2),S=y[0],A=y[1],C=Object(a.useCallback)((function(e){s(e.key)}),[]),E=Object(a.useCallback)((function(){!t.some((function(e){return e.some((function(e){return 0===e}))}))&&_||function(){for(var e=Object(o.a)(t),n=!1,c=e.length-2;c>=0;c-=1)switch(c){case 2:for(var i=function(t){if(0!==e[3][t]&&e[2][t]===e[3][t])e[3][t]*=2,e[2][t]=0,A((function(n){return n+e[3][t]})),n=!0;else if(0===e[3][t]&&0!==e[2][t]){var r=[e[2][t],e[3][t]];e[3][t]=r[0],e[2][t]=r[1],n=!0}},a=0;a<=3;a+=1)i(a);break;case 1:for(var f=function(t){if(0!==e[3][t]&&e[1][t]===e[3][t]&&0===e[2][t])e[3][t]*=2,e[1][t]=0,A((function(n){return n+e[3][t]})),n=!0;else if(0===e[3][t]&&0!==e[1][t]){var r=[e[1][t],e[3][t]];e[3][t]=r[0],e[1][t]=r[1],n=!0}},u=0;u<=3;u+=1)f(u);for(var l=function(t){if(0!==e[2][t]&&e[1][t]===e[2][t])e[2][t]*=2,e[1][t]=0,A((function(n){return n+e[2][t]})),n=!0;else if(0===e[2][t]&&0!==e[1][t]){var r=[e[1][t],e[2][t]];e[2][t]=r[0],e[1][t]=r[1],n=!0}},b=0;b<=3;b+=1)l(b);break;case 0:for(var v=function(t){if(0!==e[3][t]&&e[0][t]===e[3][t]&&0===e[1][t]&&0===e[2][t])e[3][t]*=2,e[0][t]=0,A((function(n){return n+e[3][t]})),n=!0;else if(0===e[3][t]&&0!==e[0][t]){var r=[e[0][t],e[3][t]];e[3][t]=r[0],e[0][t]=r[1],n=!0}},O=0;O<=3;O+=1)v(O);for(var d=function(t){if(0!==e[2][t]&&e[0][t]===e[2][t]&&0===e[1][t])e[2][t]*=2,e[0][t]=0,A((function(n){return n+e[2][t]})),n=!0;else if(0===e[2][t]&&0!==e[0][t]){var r=[e[0][t],e[2][t]];e[2][t]=r[0],e[0][t]=r[1],n=!0}},g=0;g<=3;g+=1)d(g);for(var x=function(t){if(0!==e[1][t]&&e[0][t]===e[1][t])e[1][t]*=2,e[0][t]=0,A((function(n){return n+e[1][t]})),n=!0;else if(0===e[1][t]&&0!==e[0][t]){var r=[e[0][t],e[1][t]];e[1][t]=r[0],e[0][t]=r[1],n=!0}},k=0;k<=3;k+=1)x(k)}if(n){var w=h()>.4?0:1;e[1].every((function(e){return 0!==e}))&&(w=0);var _=[w,j()];if(0!==e[_[0]][_[1]])for(;0!==e[_[0]][_[1]];)_=[w,j()];e[_[0]][_[1]]=m()}r(e),s("")}()}),[t]),M=Object(a.useCallback)((function(){!t.some((function(e){return e.some((function(e){return 0===e}))}))&&_||function(){for(var e=Object(o.a)(t),n=!1,c=0;c<=e.length;c+=1)switch(c){case 1:for(var i=function(t){if(0!==e[0][t]&&e[0][t]===e[1][t])e[0][t]*=2,e[1][t]=0,A((function(n){return n+e[0][t]})),n=!0;else if(0===e[0][t]&&0!==e[1][t]){var r=[e[1][t],e[0][t]];e[0][t]=r[0],e[1][t]=r[1],n=!0}},a=0;a<=3;a+=1)i(a);break;case 2:for(var f=function(t){if(0!==e[0][t]&&e[0][t]===e[2][t]&&0===e[1][t])e[0][t]*=2,e[2][t]=0,A((function(n){return n+e[0][t]})),n=!0;else if(0===e[0][t]&&0!==e[2][t]){var r=[e[2][t],e[0][t]];e[0][t]=r[0],e[2][t]=r[1],n=!0}},u=0;u<=3;u+=1)f(u);for(var l=function(t){if(0!==e[1][t]&&e[1][t]===e[2][t])e[1][t]*=2,e[2][t]=0,A((function(n){return n+e[1][t]})),n=!0;else if(0===e[1][t]&&0!==e[2][t]){var r=[e[2][t],e[1][t]];e[1][t]=r[0],e[2][t]=r[1],n=!0}},b=0;b<=3;b+=1)l(b);break;case 3:for(var v=function(t){if(0!==e[0][t]&&e[3][t]===e[0][t]&&0===e[1][t]&&0===e[2][t])e[0][t]*=2,e[3][t]=0,A((function(n){return n+e[0][t]})),n=!0;else if(0===e[0][t]&&0!==e[3][t]){var r=[e[3][t],e[0][t]];e[0][t]=r[0],e[3][t]=r[1],n=!0}},O=0;O<=3;O+=1)v(O);for(var d=function(t){if(0!==e[1][t]&&e[1][t]===e[3][t]&&0===e[2][t])e[1][t]*=2,e[3][t]=0,A((function(n){return n+e[1][t]})),n=!0;else if(0===e[1][t]&&0!==e[3][t]){var r=[e[3][t],e[1][t]];e[1][t]=r[0],e[3][t]=r[1],n=!0}},g=0;g<=3;g+=1)d(g);for(var x=function(t){if(0!==e[2][t]&&e[2][t]===e[3][t])e[2][t]*=2,e[3][t]=0,A((function(n){return n+e[2][t]})),n=!0;else if(0===e[2][t]&&0!==e[3][t]){var r=[e[3][t],e[2][t]];e[2][t]=r[0],e[3][t]=r[1],n=!0}},k=0;k<=3;k+=1)x(k)}if(n){var w=h()>.4?3:2;e[2].every((function(e){return 0!==e}))&&(w=3);var _=[w,j()];if(0!==e[_[0]][_[1]])for(;0!==e[_[0]][_[1]];)_=[w,j()];e[_[0]][_[1]]=m()}r(e),s("")}()}),[t]),L=Object(a.useCallback)((function(){!t.some((function(e){return e.some((function(e){return 0===e}))}))&&_||function(){for(var e=Object(o.a)(t),n=!1,c=function(t){for(var r=e[t].length-2;r>=0;r-=1)switch(r){case 2:if(0!==e[t][3]&&e[t][3]===e[t][2])e[t][3]*=2,e[t][2]=0,A((function(n){return n+e[t][3]})),n=!0;else if(0===e[t][3]&&0!==e[t][2]){var c=[e[t][2],e[t][3]];e[t][3]=c[0],e[t][2]=c[1],n=!0}break;case 1:if(0!==e[t][3]&&e[t][3]===e[t][1]&&0===e[t][2])e[t][3]*=2,e[t][1]=0,A((function(n){return n+e[t][3]})),n=!0;else if(0===e[t][3]&&0!==e[t][1]){var i=[e[t][1],e[t][3]];e[t][3]=i[0],e[t][1]=i[1],n=!0}if(0!==e[t][2]&&e[t][2]===e[t][1])e[t][2]*=2,e[t][1]=0,A((function(n){return n+e[t][2]})),n=!0;else if(0===e[t][2]&&0!==e[t][1]){var a=[e[t][1],e[t][2]];e[t][2]=a[0],e[t][1]=a[1],n=!0}break;case 0:if(0!==e[t][3]&&e[t][3]===e[t][0]&&0===e[t][2]&&0===e[t][1])e[t][3]*=2,e[t][0]=0,A((function(n){return n+e[t][3]})),n=!0;else if(0===e[t][3]&&0!==e[t][0]){var f=[e[t][0],e[t][3]];e[t][3]=f[0],e[t][0]=f[1],n=!0}if(0!==e[t][2]&&e[t][2]===e[t][0]&&0===e[t][1])e[t][2]*=2,e[t][0]=0,A((function(n){return n+e[t][2]})),n=!0;else if(0===e[t][2]&&0!==e[t][0]){var o=[e[t][0],e[t][2]];e[t][2]=o[0],e[t][0]=o[1],n=!0}if(0!==e[t][1]&&e[t][1]===e[t][0])e[t][1]*=2,e[t][0]=0,A((function(n){return n+e[t][1]})),n=!0;else if(0===e[t][1]&&0!==e[t][0]){var u=[e[t][0],e[t][1]];e[t][1]=u[0],e[t][0]=u[1],n=!0}}},i=0;i<e.length;i+=1)c(i);if(n){var a=h()>.4?0:1;e.every((function(e){return 0!==e[1]}))&&(a=0);var f=[j(),a];if(0!==e[f[0]][f[1]])for(;0!==e[f[0]][f[1]];)f=[j(),a];e[f[0]][f[1]]=m()}r(e),s("")}()}),[t]),D=Object(a.useCallback)((function(){!t.some((function(e){return e.some((function(e){return 0===e}))}))&&_||function(){for(var e=Object(o.a)(t),n=!1,c=function(t){for(var r=1;r<e[t].length;r+=1)switch(r){case 1:if(0!==e[t][0]&&e[t][0]===e[t][1])e[t][0]*=2,e[t][1]=0,A((function(n){return n+e[t][0]})),n=!0;else if(0===e[t][0]&&0!==e[t][1]){var c=[e[t][1],e[t][0]];e[t][0]=c[0],e[t][1]=c[1],n=!0}break;case 2:if(0!==e[t][0]&&e[t][0]===e[t][2]&&0===e[t][1])e[t][0]*=2,e[t][2]=0,A((function(n){return n+e[t][0]})),n=!0;else if(0===e[t][0]&&0!==e[t][2]){var i=[e[t][2],e[t][0]];e[t][0]=i[0],e[t][2]=i[1],n=!0}if(0!==e[t][1]&&e[t][1]===e[t][2])e[t][1]*=2,e[t][2]=0,A((function(n){return n+e[t][1]})),n=!0;else if(0===e[t][1]&&0!==e[t][2]){var a=[e[t][2],e[t][1]];e[t][1]=a[0],e[t][2]=a[1],n=!0}break;case 3:if(0!==e[t][0]&&e[t][0]===e[t][3]&&0===e[t][2]&&0===e[t][1])e[t][0]*=2,e[t][3]=0,A((function(n){return n+e[t][0]})),n=!0;else if(0===e[t][0]&&0!==e[t][3]){var f=[e[t][3],e[t][0]];e[t][0]=f[0],e[t][3]=f[1],n=!0}if(0!==e[t][1]&&e[t][1]===e[t][3]&&0===e[t][2])e[t][1]*=2,e[t][3]=0,A((function(n){return n+e[t][1]})),n=!0;else if(0===e[t][1]&&0!==e[t][3]){var o=[e[t][3],e[t][1]];e[t][1]=o[0],e[t][3]=o[1],n=!0}if(0!==e[t][2]&&e[t][2]===e[t][3])e[t][2]*=2,e[t][3]=0,A((function(n){return n+e[t][2]})),n=!0;else if(0===e[t][2]&&0!==e[t][3]){var u=[e[t][3],e[t][2]];e[t][2]=u[0],e[t][3]=u[1],n=!0}}},i=0;i<e.length;i+=1)c(i);if(n){var a=h()>.4?3:2;e.every((function(e){return 0!==e[2]}))&&(a=3);var f=[j(),a];if(0!==e[f[0]][f[1]])for(;0!==e[f[0]][f[1]];)f=[j(),a];e[f[0]][f[1]]=m()}r(e),s("")}()}),[t]);return Object(a.useEffect)((function(){var e;t.some((function(e){return e.includes(2048)}))&&x(!0);for(var n=0;n<t.length;n+=1)for(var r=0;r<t[n].length;r+=1)0===n&&(0===r&&(t[n][r]!==t[n+1][r]&&t[n][r]!==t[n][r+1]||(e=!0)),3===r&&(t[n][r]!==t[n+1][r]&&t[n][r]!==t[n][r-1]||(e=!0)),r>0&&r<3&&(t[n][r]!==t[n+1][r]&&t[n][r]!==t[n][r-1]&&t[n][r]!==t[n][r+1]||(e=!0))),3===n&&(0===r&&(t[n][r]!==t[n-1][r]&&t[n][r]!==t[n][r+1]||(e=!0)),3===r&&(t[n][r]!==t[n-1][r]&&t[n][r]!==t[n][r-1]||(e=!0)),r>0&&r<3&&(t[n][r]!==t[n-1][r]&&t[n][r]!==t[n][r-1]&&t[n][r]!==t[n][r+1]||(e=!0))),n>0&&n<3&&(0===r&&(t[n][r]!==t[n-1][r]&&t[n][r]!==t[n+1][r]&&t[n][r]!==t[n][r+1]||(e=!0)),3===r&&(t[n][r]!==t[n-1][r]&&t[n][r]!==t[n+1][r]&&t[n][r]!==t[n][r-1]||(e=!0)),r>0&&r<3&&(t[n][r]!==t[n-1][r]&&t[n][r]!==t[n+1][r]&&t[n][r]!==t[n][r-1]&&t[n][r]!==t[n][r+1]||(e=!0)));p(!e)}),[t]),Object(a.useEffect)((function(){var e=Object(o.a)(t),n=[j(),j()],c=[j(),j()];if(n[0]===c[0]&&n[1]===c[1])for(;n[0]===c[0]&&n[1]===c[1];)c=[j(),j()];e[n[0]][n[1]]=m(),e[c[0]][c[1]]=m(),r(e)}),[]),Object(a.useEffect)((function(){switch(document.addEventListener("keydown",C),u){case"ArrowDown":E();break;case"ArrowUp":M();break;case"ArrowRight":L();break;case"ArrowLeft":D()}return function(){document.removeEventListener("keydown",C)}}),[u]),Object(l.jsxs)("div",{className:"game-field",children:[Object(l.jsxs)("div",{className:"game-field__score",children:[Object(l.jsx)("span",{children:"Score"}),Object(l.jsx)("span",{children:S})]}),g?Object(l.jsx)("h1",{className:"game-field__winning-title",children:"Congratulation!!! You WIN!!!"}):_?Object(l.jsx)("h1",{className:"game-field__game-over-title",children:"You lose :("}):Object(l.jsx)("div",{className:"game-field__game-board",children:t.map((function(e,n){return Object(l.jsx)(v,{gameDataRow:e},n)}))})]})})),g=(t(18),f.a.memo((function(e){var n=e.startGame;return Object(l.jsxs)("div",{className:"start-screen",children:[Object(l.jsx)("h1",{className:"start-screen__title",children:"2048"}),Object(l.jsxs)("div",{className:"start-screen__description",children:["Join the tiles, get to",Object(l.jsx)("b",{children:" 2048!"})]}),Object(l.jsx)("button",{type:"button",className:"start-screen__button",onClick:function(){return n()},children:"Start game"}),Object(l.jsxs)("div",{className:"start-screen__instruction",children:[Object(l.jsx)("b",{children:"HOW TO PLAY: "}),"Use your",Object(l.jsx)("b",{children:" arrow keys "}),"to move the tiles. Tiles with the same number",Object(l.jsx)("b",{children:" merge into one "}),"when they touch. Add them up to reach",Object(l.jsx)("b",{children:" 2048!"})]})]})}))),x=function(){var e=Object(a.useState)(!1),n=Object(i.a)(e,2),t=n[0],r=n[1];return Object(l.jsx)("div",{className:"App",children:t?Object(l.jsx)(d,{}):Object(l.jsx)(g,{startGame:function(){return r(!0)}})})};t(19);c.a.render(Object(l.jsx)(x,{}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.d7cfabe0.chunk.js.map